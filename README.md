# Accessibility Dashboard Webservice (backend for Accessibility Dashboard Frontend)

[![Greenkeeper badge](https://badges.greenkeeper.io/joscha/a11y-dashboard-webservice.svg)](https://greenkeeper.io/)

This web service allows you to store Accessibility audits generated by [CrawlKit](https://github.com/crawlkit/crawlkit) via a REST interface and query them. It also keeps aggregated statistics over time and is capable of handling gigabytes of data.

To display the data, use the [Accessibility Dashboard Frontend](https://bitbucket.org/atlassian/a11y-dashboard/) and hook it up to this web service.

## Project Features

* Loading CrawlKit audits via REST (`/load.crawlkit`).
* Querying aggregated statistics data via REST (`/overview`)
* Querying audit details via REST (`/details`)
* Querying statistics data of audit details via REST (`/details.stats`)

***
## Getting started
Download the source code and run `npm install`. You will also need docker and to make things easier docker-compose.

You can spin up a dev instance via running `npm run dev:tdd` - this will need a running docker daemon.

### Postgres

#### dump
```
pg_dump postgres://... -F c -Z 9 > dump.backup
```

#### restore
```
pg_restore -d results -h `docker-machine ip default` -p 54321 -U postgres -c --role=postgres dump.backup
```

***
## How to contribute
PRs are welcome!

Make sure your code lints (`npm run lint`) and the tests are green (`npm test` or when using `npm run dev:tdd` they are run continuously).

Please sign the according Atlassian CLA before making any contributions:

* [Corporate CLA](https://na2.docusign.net/Member/PowerFormSigning.aspx?PowerFormId=e1c17c66-ca4d-4aab-a953-2c231af4a20b)
* [Individual CLA](https://na2.docusign.net/Member/PowerFormSigning.aspx?PowerFormId=3f94fbdc-2fbe-46ac-b14c-5d152700ae5d)

***
## Get support
Please use our [issue tracker](https://bitbucket.org/atlassian/a11y-dashboard-webservice/issues?status=new&status=open).
